var e=Object.defineProperty,l=Object.defineProperties,t=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,s=(l,t,i)=>t in l?e(l,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[t]=i,r=(e,l)=>{for(var t in l||(l={}))a.call(l,t)&&s(e,t,l[t]);if(i)for(var t of i(l))n.call(l,t)&&s(e,t,l[t]);return e},o=(e,i)=>l(e,t(i)),d=(e,l)=>{var t={};for(var s in e)a.call(e,s)&&l.indexOf(s)<0&&(t[s]=e[s]);if(null!=e&&i)for(var s of i(e))l.indexOf(s)<0&&n.call(e,s)&&(t[s]=e[s]);return t};import{c as p,A as u,M as c,B as f,d as g,r as m,o as y,a as v,w as _,b,e as h,f as x,g as k,h as I,n as S,p as F,i as E,u as C,j as w,L as O,k as N,t as q,l as $,m as T,F as M,q as D,s as j,v as B,x as U,y as A,z as L,C as z,D as V,E as P,G as K,H as R,I as J,J as X,K as G,N as H,O as Q,P as W,Q as Y,R as Z,S as ee}from"./vendor.7818d6b8.js";var le=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",parameters:{actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}},options:{storySort:{order:["Example",["Introduction","Simple Examples","List Transitions","Stagger Effects"]]}}}});const te={};function ie(e){var l=e,{components:t}=l,i=d(l,["components"]);return p("wrapper",o(r(r({},te),i),{components:t,mdxType:"MDXLayout"}),p(c,{title:"Example/Introduction",mdxType:"Meta"}),p("h1",null,"vue3-flip-toolkit"),p("p",null,"Vue 3 port of ",p("a",r({parentName:"p"},{href:"https://github.com/aholachek/react-flip-toolkit"}),"flip-toolkit"),"."),p("h2",null,"Examples"),p("p",null,"See examples in storybook or source of examples under ",p("inlineCode",{parentName:"p"},"stories/"),"."),p("p",null,"To launch storybook, run ",p("inlineCode",{parentName:"p"},"npm run serve"),"."),p("h2",null,"Different to ",p("inlineCode",{parentName:"h2"},"react-flip-toolkit")),p("ul",null,p("li",{parentName:"ul"},p("inlineCode",{parentName:"li"},'<Flipper element="div">')," becomes ",p("inlineCode",{parentName:"li"},'<Flipper is="div">')," to match ",p("inlineCode",{parentName:"li"},'<component is="div">')," syntax in Vue"),p("li",{parentName:"ul"},p("inlineCode",{parentName:"li"},"<Flipped>")," also wrappers ",p("inlineCode",{parentName:"li"},"<slots />")," while React don't, you can control wrapper element with ",p("inlineCode",{parentName:"li"},'<Flipped is="div">'))),p("h2",null,"Recommended IDE Setup"),p("p",null,p("a",r({parentName:"p"},{href:"https://code.visualstudio.com/"}),"VSCode")," + ",p("a",r({parentName:"p"},{href:"https://marketplace.visualstudio.com/items?itemName=johnsoncodehk.volar"}),"Volar")," (and disable Vetur, if you installed)."),p("h2",null,"TODOs"),p("ul",null,p("li",{parentName:"ul"},"Port more examples from ",p("inlineCode",{parentName:"li"},"react-flip-toolkit"))))}ie.isMDXComponent=!0;const ae=()=>{throw new Error("Docs-only story")};ae.parameters={docsOnly:!0};const ne={title:"Example/Introduction",includeStories:["__page"]},se={};ne.parameters=ne.parameters||{},ne.parameters.docs=o(r({},ne.parameters.docs||{}),{page:()=>p(u,{mdxStoryNameToKey:se,mdxComponentMeta:ne},p(ie,null))});var re=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",__page:ae,default:ne});const oe=Symbol("addFlipped"),de=Symbol("addInverted");var pe=g({props:{flipKey:{type:[String,Number,Boolean],required:!0},is:{type:String,required:!1,default:"div"},decisionData:{type:null,required:!1},spring:{type:null,required:!1},staggerConfig:{type:null,required:!1},applyTransformOrigin:{type:Boolean,required:!1},handleEnterUpdateDelete:{type:null,required:!1},debug:{type:Boolean,required:!1,default:!1}},setup(e){const l=e,t=m(),i=((e={})=>{const l=r({},e),t=[],i=[];let a=null;return new Proxy({initialize(e){const n=new f(o(r({},l),{element:e}));t.splice(0,t.length).forEach((e=>n.addFlipped(...e))),i.splice(0,i.length).forEach((e=>n.addInverted(...e))),a=n},setOptions(e){Object.assign(l,e),a&&Object.assign(a,l)},addFlipped(...e){a||t.push(e),null==a||a.addFlipped(...e)},addInverted(...e){a||i.push(e),null==a||a.addInverted(...e)},get debug(){var e;return null!=(e=null==a?void 0:a.debug)&&e},set debug(e){l.debug=e,a&&(a.debug=e)}},{get:(e,l)=>l in e?e[l]:a&&l in a?a[l]:"recordBeforeUpdate"===l||"update"===l?()=>{}:null})})({debug:l.debug}),a=m(l.decisionData);y((()=>{i.initialize(t.value)})),v((()=>{i.recordBeforeUpdate()})),_((()=>l.decisionData),((e,l)=>a.value=l)),_((()=>l.flipKey),((e,t)=>{e!=t&&S((()=>{i.update(a.value,l.decisionData)}))}));return["spring","staggerConfig","applyTransformOrigin","handleEnterUpdateDelete","debug"].forEach((e=>{_((()=>l[e]),(l=>i.setOptions({[e]:l})))})),F(oe,(e=>{i.addFlipped(e)})),F(de,(e=>{i.addInverted(e)})),(e,i)=>(b(),h(I(l.is),{ref:t},{default:x((()=>[k(e.$slots,"default")])),_:3},512))}});pe.__docgenInfo={displayName:"Flipper",description:"",tags:{},slots:[{name:"default"}]};var ue=g({props:{is:{type:String,required:!1,default:"div"},flipId:{type:null,required:!1},portalKey:{type:String,required:!1},opacity:{type:Boolean,required:!1,default:!1},translate:{type:Boolean,required:!1,default:!1},scale:{type:Boolean,required:!1,default:!1},transformOrigin:{type:String,required:!1},spring:{type:null,required:!1},stagger:{type:[String,Boolean],required:!1},inverseFlipId:{type:String,required:!1},delayUntil:{type:null,required:!1},shouldFlip:{type:Function,required:!1},shouldInvert:{type:Function,required:!1},onAppear:{type:Function,required:!1},onStart:{type:Function,required:!1},onSpringUpdate:{type:Function,required:!1},onComplete:{type:Function,required:!1},onExit:{type:Function,required:!1}},setup(e,{emit:l}){const t=e,{flipId:i,inverseFlipId:a}=t,n=d(t,["flipId","inverseFlipId"]),s=m(),r=E(oe),o=E(de);return y((()=>{if(i)null==r||r({flipId:i,element:s.value,portalKey:n.portalKey,opacity:n.opacity,translate:n.translate,scale:n.scale,transformOrigin:n.transformOrigin,spring:n.spring,stagger:n.stagger,delayUntil:n.delayUntil,onAppear:n.onAppear?(e,t,a)=>l("appear",{flipId:i,el:e,index:t,decisionData:a}):void 0,onStart:n.onStart?(e,t)=>l("start",{flipId:i,el:e,decisionData:t}):void 0,onSpringUpdate:n.onSpringUpdate?e=>l("spring-update",{flipId:i,springValue:e}):void 0,onComplete:n.onComplete?(e,t)=>l("complete",{flipId:i,el:e,decisionData:t}):void 0,onExit:n.onExit?(e,t,a,n)=>l("exit",{flipId:i,el:e,index:t,removeElement:a,decisionData:n}):void 0});else{if(!a)throw new Error("Flipped needs flipId or inverseFlipId");null==o||o({element:s.value,parent:{dataset:{flipId:a}},opacity:n.opacity,scale:n.scale,translate:n.translate,transformOrigin:void 0})}})),(e,l)=>(b(),h(I(n.is),{ref:s},{default:x((()=>[k(e.$slots,"default")])),_:3},512))}});ue.__docgenInfo={displayName:"Flipped",description:"",tags:{},slots:[{name:"default"}]};const ce=$("Ã—");var fe=g({props:{id:{type:Number,required:!0},title:{type:String,required:!0},type:{type:String,required:!0},stagger:{type:Boolean,required:!0}},emits:["filtered"],setup(e,{emit:l}){const t=e,i=C(),a=`item-${t.id}`,n=(e,l)=>e.type!==l.type,s=({el:e,index:l})=>{O({onUpdate:l=>e.style.opacity=l,delay:50*l})},r=e=>({el:l,index:t,removeElement:i})=>{O({config:{overshootClamping:!0},onUpdate:t=>{l.style.transform=`scale${"grid"===e?"X":"Y"}(${1-t})`},delay:50*t,onComplete:()=>{l.style.opacity="",i()}})},o=r("grid"),d=r("list");return(t,r)=>(b(),h(w(ue),{is:"li",class:[w(i).item,{[w(i).list]:"list"===e.type}],"flip-id":a,stagger:e.stagger,"should-invert":n,onAppear:s,onExit:r[2]||(r[2]=l=>"grid"===e.type?w(o)(l):w(d)(l))},{default:x((()=>[N(w(ue),{"inverse-flip-id":a},{default:x((()=>[N(w(ue),{"flip-id":`${a}-content`,translate:"","should-flip":n,"delay-until":a},{default:x((()=>[N("h3",null,q(e.title),1),N("p",null,q(e.title),1)])),_:1},8,["flip-id"]),N(w(ue),{is:"button","flip-id":`${a}-button`,"should-flip":n,"delay-until":a,class:w(i).remove,onClick:r[1]||(r[1]=t=>l("filtered",e.id))},{default:x((()=>[ce])),_:1},8,["flip-id","class"])])),_:1})])),_:1},8,["class","stagger"]))}});var ge={list:"_list_17gss_2",item:"_item_17gss_2",remove:"_remove_17gss_37"};(fe.__cssModules={}).$style=ge,fe.__docgenInfo={displayName:"Card",description:"",tags:{}};var me=[{id:1,title:"Twas brillig and the slithy toves"},{id:2,title:"Did gyre and gimbel in the wabe"},{id:3,title:"All mimsy were the borogroves"},{id:4,title:"The mome raths outgrabe"},{id:5,title:"Beware the jabberwock my son!!"},{id:6,title:"The jaws that bite, the claws that snatch"}];const ye=N("legend",null,"Sort",-1),ve=N("legend",null,"Type",-1),_e=N("legend",null,"Stagger",-1),be=N("legend",null,"Spring",-1);var he=g({setup(e){const l=C(),t=m("asc"),i=m("list"),a=m("forward"),n=m("stiff"),s=m([]),r=T((()=>me.filter((({id:e})=>!s.value.includes(e))).sort((({id:e},{id:l})=>"asc"===t.value?e-l:l-e))));return _(a,(()=>{t.value="asc"===t.value?"desc":"asc"})),(e,o)=>(b(),h("div",{class:w(l).example},[N(w(pe),{"flip-key":`${i.value}-${JSON.stringify(w(r))}`,spring:n.value,"stagger-config":{default:{reverse:"forward"!==a.value,speed:1}},"decision-data":{type:i.value,listData:w(r)}},{default:x((()=>[N("div",{class:w(l).container},[N("fieldset",null,[ye,(b(),h(M,null,D(["asc","desc"],(e=>N("label",{key:e},[B(N("input",{type:"radio","onUpdate:modelValue":o[1]||(o[1]=e=>t.value=e),value:e},null,8,["value"]),[[U,t.value]]),$(" "+q(e),1)]))),64))]),N("fieldset",null,[ve,(b(),h(M,null,D(["grid","list"],(e=>N("label",{key:e},[B(N("input",{type:"radio","onUpdate:modelValue":o[2]||(o[2]=e=>i.value=e),value:e},null,8,["value"]),[[U,i.value]]),$(" "+q(e),1)]))),64))]),N("fieldset",null,[_e,(b(),h(M,null,D(["forward","reverse","none"],(e=>N("label",{key:e},[B(N("input",{type:"radio","onUpdate:modelValue":o[3]||(o[3]=e=>a.value=e),value:e},null,8,["value"]),[[U,a.value]]),$(" "+q(e),1)]))),64))]),N("fieldset",null,[be,(b(),h(M,null,D(["stiff","noWobble","veryGentle","gentle","wobbly"],(e=>N("label",{key:e},[B(N("input",{type:"radio","onUpdate:modelValue":o[4]||(o[4]=e=>n.value=e),value:e},null,8,["value"]),[[U,n.value]]),$(" "+q(e),1)]))),64))])],2),N("div",null,[s.value.length>0?(b(),h("button",{key:0,class:w(l).showAll,onClick:o[5]||(o[5]=e=>s.value=[])},"show all cards",2)):j("",!0)]),N(w(ue),{class:"grid"===i.value?w(l).grid:w(l).list,"flip-id":"list"},{default:x((()=>[N(w(ue),{is:"ul",class:w(l).listContents,"inverse-flip-id":"list"},{default:x((()=>[(b(!0),h(M,null,D(w(r),(({id:e,title:l})=>(b(),h(fe,{key:e,id:e,title:l,stagger:"none"!==a.value,type:i.value,onFiltered:l=>(e=>s.value.push(e))(e)},null,8,["id","title","stagger","type","onFiltered"])))),128))])),_:1},8,["class"])])),_:1},8,["class"])])),_:1},8,["flip-key","spring","stagger-config","decision-data"])],2))}});var xe={example:"_example_oml8h_2",grid:"_grid_oml8h_18",list:"_list_oml8h_28",showAll:"_showAll_oml8h_49",container:"_container_oml8h_58"};(he.__cssModules={}).$style=xe,he.__docgenInfo={displayName:"Example",description:"",tags:{}};var ke=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{title:"Example/List Transitions"},ListTransitions:()=>he,__namedExportsOrder:["ListTransitions"]}),Ie=g({setup(e){const l=C(),t=m(!1),i=()=>{t.value=!t.value};return(e,a)=>(b(),h(w(pe),{"flip-key":t.value},{default:x((()=>[N(w(ue),{"flip-id":"box",class:t.value?w(l).boxBig:w(l).box,onClick:i},null,8,["class"])])),_:1},8,["flip-key"]))}});var Se={box:"_box_1gc89_2",boxBig:"_boxBig_1gc89_13"};(Ie.__cssModules={}).$style=Se,Ie.__docgenInfo={displayName:"AnExpandingDiv",description:"",tags:{}};var Fe=g({setup(e){const l=C(),t=m(!1),i=()=>{t.value=!t.value};return(e,a)=>(b(),h(w(pe),{"flip-key":t.value},{default:x((()=>[t.value?(b(),h(w(ue),{key:0,"flip-id":"box",class:w(l).boxBig,onClick:i},null,8,["class"])):(b(),h(w(ue),{key:1,"flip-id":"box",class:w(l).box,onClick:i},null,8,["class"]))])),_:1},8,["flip-key"]))}});var Ee={box:"_box_4fsgz_2",boxBig:"_boxBig_4fsgz_13"};(Fe.__cssModules={}).$style=Ee,Fe.__docgenInfo={displayName:"TwoDivs",description:"",tags:{}};var Ce=g({setup(e){const l=C(),t=m(["1","2","3","4","5","6","7","8","9","10"]);return(e,i)=>(b(),h(w(pe),{"flip-key":t.value.join("")},{default:x((()=>[N("button",{onClick:i[1]||(i[1]=e=>(()=>{for(let e=t.value.length-1;e>0;e--){const l=Math.floor(Math.random()*(e+1));[t.value[e],t.value[l]]=[t.value[l],t.value[e]]}})())},"shuffle"),N("ul",{class:w(l).list},[(b(!0),h(M,null,D(t.value,(e=>(b(),h(w(ue),{is:"li",key:e,"flip-id":e},{default:x((()=>[$(q(e),1)])),_:2},1032,["flip-id"])))),128))],2)])),_:1},8,["flip-key"]))}});var we={list:"_list_1nonw_2"};(Ce.__cssModules={}).$style=we,Ce.__docgenInfo={displayName:"ListShuffle",description:"",tags:{}};const Oe=()=>Ie;Oe.parameters={layout:"centered",docs:{source:{type:"code",code:'\n<template>\n  <Flipper :flip-key="flip">\n    <Flipped flip-id="box" :class="flip ? style.boxBig : style.box" @click="toggle"></Flipped>\n  </Flipper>\n</template>\n\n<script setup lang="ts">\nimport { ref, useCssModule } from \'vue\'\nimport { Flipped, Flipper } from \'vue3-flip-toolkit\'\n\nconst style = useCssModule()\nconst flip = ref(false)\n\nconst toggle = () => { flip.value = !flip.value }\n<\/script>\n      '}}};const Ne=()=>Fe;Ne.parameters={layout:"centered",docs:{source:{type:"code",code:'\n<template>\n  <Flipper :flip-key="flip">\n    <Flipped flip-id="box" :class="style.boxBig" @click="toggle" v-if="flip"></Flipped>\n    <Flipped flip-id="box" :class="style.box" @click="toggle" v-else></Flipped>\n  </Flipper>\n</template>\n\n<script setup lang="ts">\nimport { ref, useCssModule } from \'vue\'\nimport { Flipped, Flipper } from \'vue3-flip-toolkit\'\n\nconst style = useCssModule()\nconst flip = ref(false)\n\nconst toggle = () => { flip.value = !flip.value }\n<\/script>\n      '}}};const qe=()=>Ce;qe.parameters={docs:{source:{type:"code",code:"\n<template>\n  <Flipper :flip-key=\"list.join('')\">\n    <button @click=\"shuffle()\">shuffle</button>\n    <ul :class=\"style.list\">\n      <Flipped v-for=\"i in list\" is=\"li\" :key=\"i\" :flip-id=\"i\">{{ i }}</Flipped>\n    </ul>\n  </Flipper>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, useCssModule } from 'vue'\nimport { Flipped, Flipper } from 'vue3-flip-toolkit'\n\nconst style = useCssModule()\nconst list = ref(['1', '2', '3', '4', '5', '6', '7', '8', '9', '10'])\n\nconst shuffle = () => {\n  for (let i = list.value.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n\n    [list.value[i], list.value[j]] = [list.value[j], list.value[i]]\n  }\n}\n<\/script>\n      "}}};var $e=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{title:"Example/Simple Examples"},AnExpandingDiv:Oe,TwoDivs:Ne,ListShuffle:qe,__namedExportsOrder:["AnExpandingDiv","TwoDivs","ListShuffle"]}),Te=g({props:{index:{type:Number,required:!0}},emits:["click"],setup(e,{emit:l}){const{index:t}=e,i=C(),a=({el:e})=>{setTimeout((()=>{e.classList.add(i.animatedIn)}),400)};return(e,n)=>(b(),h(w(ue),{"flip-id":`listItem-${t}`,stagger:"card",class:w(i).item,onClick:n[1]||(n[1]=e=>l("click")),onStart:a},{default:x((()=>[N(w(ue),{"inverse-flip-id":`listItem-${t}`,class:w(i).content},{default:x((()=>[N(w(ue),{"flip-id":`avatar-${t}`,stagger:"card-content","delay-until":`listItem-${t}`,class:w(i).avatar},null,8,["flip-id","delay-until","class"]),N("div",{class:w(i).description},[(b(),h(M,null,D(3,(e=>N(w(ue),{key:e,"flip-id":`description-${t}-${e}`,stagger:"card-content","delay-until":`listItem-${t}`},null,8,["flip-id","delay-until"]))),64))],2),N("div",{class:w(i).additional},[(b(),h(M,null,D(3,(e=>N("div",{key:e}))),64))],2)])),_:1},8,["inverse-flip-id","class"])])),_:1},8,["flip-id","class"]))}});var Me={item:"_item_xdt8s_2",content:"_content_xdt8s_6",avatar:"_avatar_xdt8s_12",description:"_description_xdt8s_20",additional:"_additional_xdt8s_41",animatedIn:"_animatedIn_xdt8s_64",fadeIn:"_fadeIn_xdt8s_1"};(Te.__cssModules={}).$style=Me,Te.__docgenInfo={displayName:"ExpandedListItem",description:"",tags:{}};var De=g({props:{index:{type:Number,required:!0}},emits:["click"],setup(e,{emit:l}){const{index:t}=e,i=C(),a=(e,l)=>t===e||t===l;return(e,n)=>(b(),h(w(ue),{"flip-id":`listItem-${t}`,stagger:"card","should-invert":a,class:w(i).item,onClick:n[1]||(n[1]=e=>l("click"))},{default:x((()=>[N(w(ue),{"inverse-flip-id":`listItem-${t}`,class:w(i).content},{default:x((()=>[N(w(ue),{"flip-id":`avatar-${t}`,stagger:"card-content","should-flip":a,"delay-until":`listItem-${t}`,class:w(i).avatar},null,8,["flip-id","delay-until","class"]),N("div",{class:w(i).description},[(b(),h(M,null,D(3,(e=>N(w(ue),{key:e,"flip-id":`description-${t}-${e}`,stagger:"card-content","should-flip":a,"delay-until":`listItem-${t}`},null,8,["flip-id","delay-until"]))),64))],2)])),_:1},8,["inverse-flip-id","class"])])),_:1},8,["flip-id","class"]))}});var je={item:"_item_n6u0p_2",content:"_content_n6u0p_8",avatar:"_avatar_n6u0p_14",description:"_description_n6u0p_21"};(De.__cssModules={}).$style=je,De.__docgenInfo={displayName:"ListItem",description:"",tags:{}};var Be=g({setup(e){const l=C(),t=m(!1),i=e=>{t.value=t.value!==e&&e};return(e,a)=>(b(),h("div",{class:w(l).example},[N(w(pe),{spring:"gentle",class:w(l).container,"flip-key":t.value,"stagger-config":{card:{reverse:!1!==t.value}},"decision-data":t.value},{default:x((()=>[N("ul",{class:w(l).list},[(b(),h(M,null,D(7,(e=>N("li",{key:e},[e===t.value?(b(),h(Te,{key:0,index:e,onClick:l=>i(e)},null,8,["index","onClick"])):(b(),h(De,{key:1,index:e,onClick:l=>i(e)},null,8,["index","onClick"]))]))),64))],2)])),_:1},8,["class","flip-key","stagger-config","decision-data"])],2))}});var Ue={container:"_container_ngiui_2",list:"_list_ngiui_7"};(Be.__cssModules={}).$style=Ue,Be.__docgenInfo={displayName:"Example",description:"",tags:{}};const Ae=()=>Be;Ae.parameters={layout:"fullscreen"};var Le=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{title:"Example/Stagger Effects"},StaggerEffects:Ae,__namedExportsOrder:["StaggerEffects"]});[le,J,X,G,H,Q,W,Y,Z,ee].forEach((e=>{Object.keys(e).forEach((l=>{const t=e[l];switch(l){case"args":case"argTypes":return K.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(t));case"decorators":return t.forEach((e=>P(e,!1)));case"loaders":return t.forEach((e=>V(e,!1)));case"parameters":return A(r({},t),!1);case"argTypesEnhancers":return t.forEach((e=>z(e)));case"argsEnhancers":return t.forEach((e=>L(e)));case"globals":case"globalTypes":{const e={};return e[l]=t,A(e,!1)}default:return console.log(l+" was not supported :( !")}}))})),R((()=>[re,ke,$e,Le].filter((e=>e.default))),{hot:!1},!1);
//# sourceMappingURL=iframe.fe65ed32.js.map
